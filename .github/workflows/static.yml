name: Deploy Digital Garden with REAL Clickable Files

on:
  push:
    branches: ["main"]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      # –®–ê–ì 1: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
      - name: Scan real file structure
        run: |
          echo "üîç –°–∫–∞–Ω–∏—Ä—É—é —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã..."
          cd src/site/notes/
          
          # –°–æ–∑–¥–∞—ë–º JSON —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
          echo '{' > structure.json
          echo '  "folders": [' >> structure.json
          
          # –ü–∞–ø–∫–∏
          FIRST_DIR=true
          find . -maxdepth 1 -type d ! -name "." | sed 's|^\./||' | while read dir; do
            if [ "$FIRST_DIR" = false ]; then
              echo "    ," >> structure.json
            fi
            FILE_COUNT=$(find "$dir" -type f | wc -l)
            TOTAL_SIZE=$(find "$dir" -type f -exec stat -c%s {} \; 2>/dev/null | awk '{sum+=$1} END {print sum}')
            echo "    {" >> structure.json
            echo "      \"name\": \"$dir\"," >> structure.json
            echo "      \"fileCount\": $FILE_COUNT," >> structure.json
            echo "      \"totalSize\": ${TOTAL_SIZE:-0}" >> structure.json
            echo "    }" >> structure.json
            FIRST_DIR=false
          done
          
          echo '  ],' >> structure.json
          echo '  "files": [' >> structure.json
          
          # –§–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ (–∫—Ä–æ–º–µ index.html)
          FIRST_FILE=true
          find . -maxdepth 1 -type f ! -name "index.html" ! -name "structure.json" | sed 's|^\./||' | while read file; do
            if [ "$FIRST_FILE" = false ]; then
              echo "    ," >> structure.json
            fi
            SIZE=$(stat -c%s "$file" 2>/dev/null || wc -c < "$file")
            EXT="${file##*.}"
            echo "    {" >> structure.json
            echo "      \"name\": \"$file\"," >> structure.json
            echo "      \"size\": $SIZE," >> structure.json
            echo "      \"ext\": \"${EXT,,}\"" >> structure.json
            echo "    }" >> structure.json
            FIRST_FILE=false
          done
          
          echo '  ]' >> structure.json
          echo '}' >> structure.json
          
          echo "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ structure.json"
        
      # –®–ê–ì 2: –°–æ–∑–¥–∞—ë–º index.html —Å –†–ï–ê–õ–¨–ù–´–ú–ò –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–´–ú–ò —Ñ–∞–π–ª–∞–º–∏
      - name: Create index.html with clickable files
        run: |
          cd src/site/notes/
          echo "üåø –°–æ–∑–¥–∞—é index.html —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏..."
          
          # === –ù–ê–ß–ò–ù–ê–ï–ú HTML ===
          echo '<!DOCTYPE html>' > index.html
          echo '<html lang="ru">' >> index.html
          echo '<head>' >> index.html
          echo '    <meta charset="UTF-8">' >> index.html
          echo '    <meta name="viewport" content="width=device-width, initial-scale=1.0">' >> index.html
          echo '    <title>üåø –¶–∏—Ñ—Ä–æ–≤–æ–π —Å–∞–¥</title>' >> index.html
          echo '    <style>' >> index.html
          echo '        :root {' >> index.html
          echo '            --primary: #2ea44f;' >> index.html
          echo '            --bg: #f6f8fa;' >> index.html
          echo '            --card: #ffffff;' >> index.html
          echo '            --text: #24292f;' >> index.html
          echo '            --border: #d0d7de;' >> index.html
          echo '        }' >> index.html
          echo '        * { margin: 0; padding: 0; box-sizing: border-box; }' >> index.html
          echo '        body {' >> index.html
          echo '            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;' >> index.html
          echo '            background: var(--bg);' >> index.html
          echo '            color: var(--text);' >> index.html
          echo '            line-height: 1.6;' >> index.html
          echo '            padding: 20px;' >> index.html
          echo '            max-width: 1200px;' >> index.html
          echo '            margin: 0 auto;' >> index.html
          echo '        }' >> index.html
          echo '        header { ' >> index.html
          echo '            text-align: center; ' >> index.html
          echo '            margin: 40px 0 60px 0;' >> index.html
          echo '            padding-bottom: 20px;' >> index.html
          echo '            border-bottom: 2px solid var(--border);' >> index.html
          echo '        }' >> index.html
          echo '        h1 { ' >> index.html
          echo '            font-size: 2.8rem; ' >> index.html
          echo '            margin-bottom: 10px;' >> index.html
          echo '            color: var(--primary);' >> index.html
          echo '        }' >> index.html
          echo '        .stats-grid {' >> index.html
          echo '            display: grid;' >> index.html
          echo '            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));' >> index.html
          echo '            gap: 15px;' >> index.html
          echo '            margin: 30px 0;' >> index.html
          echo '        }' >> index.html
          echo '        .stat-card {' >> index.html
          echo '            background: var(--card);' >> index.html
          echo '            border: 1px solid var(--border);' >> index.html
          echo '            border-radius: 10px;' >> index.html
          echo '            padding: 20px;' >> index.html
          echo '            text-align: center;' >> index.html
          echo '        }' >> index.html
          echo '        .stat-number {' >> index.html
          echo '            font-size: 2.5rem;' >> index.html
          echo '            font-weight: bold;' >> index.html
          echo '            color: var(--primary);' >> index.html
          echo '        }' >> index.html
          echo '        .file-grid {' >> index.html
          echo '            display: grid;' >> index.html
          echo '            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));' >> index.html
          echo '            gap: 15px;' >> index.html
          echo '            margin-top: 20px;' >> index.html
          echo '        }' >> index.html
          echo '        .file-card {' >> index.html
          echo '            background: var(--card);' >> index.html
          echo '            border: 1px solid var(--border);' >> index.html
          echo '            border-radius: 10px;' >> index.html
          echo '            padding: 15px;' >> index.html
          echo '            display: flex;' >> index.html
          echo '            align-items: center;' >> index.html
          echo '            gap: 15px;' >> index.html
          echo '            text-decoration: none;' >> index.html
          echo '            color: inherit;' >> index.html
          echo '            transition: all 0.2s ease;' >> index.html
          echo '        }' >> index.html
          echo '        .file-card:hover {' >> index.html
          echo '            transform: translateY(-3px);' >> index.html
          echo '            box-shadow: 0 5px 15px rgba(0,0,0,0.1);' >> index.html
          echo '            border-color: var(--primary);' >> index.html
          echo '        }' >> index.html
          echo '        .file-icon {' >> index.html
          echo '            font-size: 2rem;' >> index.html
          echo '            width: 50px;' >> index.html
          echo '            text-align: center;' >> index.html
          echo '        }' >> index.html
          echo '        .file-info {' >> index.html
          echo '            flex: 1;' >> index.html
          echo '        }' >> index.html
          echo '        .file-name {' >> index.html
          echo '            font-weight: 600;' >> index.html
          echo '            margin-bottom: 5px;' >> index.html
          echo '            color: var(--primary);' >> index.html
          echo '            word-break: break-all;' >> index.html
          echo '        }' >> index.html
          echo '        .file-meta {' >> index.html
          echo '            font-size: 0.85rem;' >> index.html
          echo '            color: #6e7781;' >> index.html
          echo '        }' >> index.html
          echo '        .folder-section {' >> index.html
          echo '            margin: 40px 0;' >> index.html
          echo '        }' >> index.html
          echo '        .folder-name {' >> index.html
          echo '            font-size: 1.5rem;' >> index.html
          echo '            margin-bottom: 20px;' >> index.html
          echo '            padding-bottom: 10px;' >> index.html
          echo '            border-bottom: 2px solid var(--border);' >> index.html
          echo '            color: var(--primary);' >> index.html
          echo '        }' >> index.html
          echo '        footer {' >> index.html
          echo '            margin-top: 60px;' >> index.html
          echo '            text-align: center;' >> index.html
          echo '            color: #6e7781;' >> index.html
          echo '            padding-top: 20px;' >> index.html
          echo '            border-top: 1px solid var(--border);' >> index.html
          echo '        }' >> index.html
          echo '        #search {' >> index.html
          echo '            width: 100%;' >> index.html
          echo '            padding: 12px;' >> index.html
          echo '            border: 2px solid var(--border);' >> index.html
          echo '            border-radius: 8px;' >> index.html
          echo '            margin: 20px 0;' >> index.html
          echo '            font-size: 1rem;' >> index.html
          echo '        }' >> index.html
          echo '        @media (max-width: 768px) {' >> index.html
          echo '            .file-grid { grid-template-columns: 1fr; }' >> index.html
          echo '            h1 { font-size: 2rem; }' >> index.html
          echo '        }' >> index.html
          echo '    </style>' >> index.html
          echo '</head>' >> index.html
          echo '<body>' >> index.html
          echo '    <header>' >> index.html
          echo '        <h1>üåø –¶–∏—Ñ—Ä–æ–≤–æ–π —Å–∞–¥</h1>' >> index.html
          echo '        <p class="subtitle">–†–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ notes/</p>' >> index.html
          echo '    </header>' >> index.html
          
          # === –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨: JavaScript –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã ===
          echo '    <div class="stats-grid" id="stats-container">' >> index.html
          echo '        <div class="stat-card">' >> index.html
          echo '            <div class="stat-number" id="total-files">0</div>' >> index.html
          echo '            <div>–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤</div>' >> index.html
          echo '        </div>' >> index.html
          echo '        <div class="stat-card">' >> index.html
          echo '            <div class="stat-number" id="folders-count">0</div>' >> index.html
          echo '            <div>–ü–∞–ø–æ–∫</div>' >> index.html
          echo '        </div>' >> index.html
          echo '        <div class="stat-card">' >> index.html
          echo '            <div class="stat-number" id="html-files">0</div>' >> index.html
          echo '            <div>HTML —Ñ–∞–π–ª–æ–≤</div>' >> index.html
          echo '        </div>' >> index.html
          echo '        <div class="stat-card">' >> index.html
          echo '            <div class="stat-number" id="update-time">--:--</div>' >> index.html
          echo '            <div>–û–±–Ω–æ–≤–ª–µ–Ω–æ</div>' >> index.html
          echo '        </div>' >> index.html
          echo '    </div>' >> index.html
          
          echo '    <input type="text" id="search" placeholder="üîç –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤..." onkeyup="filterFiles()">' >> index.html
          
          echo '    <div id="content-container">' >> index.html
          echo '        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...</p>' >> index.html
          echo '    </div>' >> index.html
          
          echo '    <footer>' >> index.html
          echo '        <p>üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ GitHub Actions</p>' >> index.html
          echo '        <p><a href="https://github.com/Story987/Grin" style="color: #0969da;">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ GitHub</a></p>' >> index.html
          echo '    </footer>' >> index.html
          
          # === JavaScript –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –†–ï–ê–õ–¨–ù–´–• —Ñ–∞–π–ª–æ–≤ ===
          echo '    <script>' >> index.html
          echo '        // –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤' >> index.html
          echo '        function getFileIcon(filename) {' >> index.html
          echo '            const ext = filename.split(".").pop().toLowerCase();' >> index.html
          echo '            const icons = {' >> index.html
          echo '                "html": "üåê", "htm": "üåê",' >> index.html
          echo '                "md": "üìù", "txt": "üìÑ", "pdf": "üìï",' >> index.html
          echo '                "jpg": "üñºÔ∏è", "jpeg": "üñºÔ∏è", "png": "üñºÔ∏è", "gif": "üñºÔ∏è", "svg": "üñºÔ∏è",' >> index.html
          echo '                "mp3": "üéµ", "wav": "üéµ", "mp4": "üé¨", "avi": "üé¨",' >> index.html
          echo '                "zip": "üóúÔ∏è", "rar": "üóúÔ∏è", "7z": "üóúÔ∏è",' >> index.html
          echo '                "js": "‚ö°", "css": "üé®", "json": "üìä",' >> index.html
                  echo '                "doc": "üìò", "docx": "üìò", "xls": "üìó", "xlsx": "üìó",' >> index.html
          echo '                "py": "üêç", "sh": "üíª", "yml": "‚öôÔ∏è", "yaml": "‚öôÔ∏è"' >> index.html
          echo '            };' >> index.html
          echo '            return icons[ext] || "üìÑ";' >> index.html
          echo '        }' >> index.html
          
          echo '        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞' >> index.html
          echo '        function formatFileSize(bytes) {' >> index.html
          echo '            if (bytes === 0) return "0 –ë";' >> index.html
          echo '            const k = 1024;' >> index.html
          echo '            const sizes = ["–ë", "–ö–ë", "–ú–ë", "–ì–ë"];' >> index.html
          echo '            const i = Math.floor(Math.log(bytes) / Math.log(k));' >> index.html
          echo '            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + " " + sizes[i];' >> index.html
          echo '        }' >> index.html
          
          echo '        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ structure.json' >> index.html
          echo '        async function loadRealFiles() {' >> index.html
          echo '            try {' >> index.html
          echo '                const response = await fetch("structure.json");' >> index.html
          echo '                if (!response.ok) throw new Error("–§–∞–π–ª structure.json –Ω–µ –Ω–∞–π–¥–µ–Ω");' >> index.html
          echo '                ' >> index.html
          echo '                const data = await response.json();' >> index.html
          echo '                renderFiles(data);' >> index.html
          echo '            } catch (error) {' >> index.html
          echo '                document.getElementById("content-container").innerHTML = ' >> index.html
          echo '                    `<div class="stat-card"><p>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p></div>`;' >> index.html
          echo '            }' >> index.html
          echo '        }' >> index.html
          
          echo '        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤' >> index.html
          echo '        function renderFiles(data) {' >> index.html
          echo '            const container = document.getElementById("content-container");' >> index.html
          echo '            let html = "";' >> index.html
          echo '            ' >> index.html
          echo '            // –ü–∞–ø–∫–∏ (–ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–´–ï –°–°–´–õ–ö–ò!)' >> index.html
          echo '            if (data.folders && data.folders.length > 0) {' >> index.html
          echo '                html += `<div class="folder-section"><h2 class="folder-name">üìÅ –ü–∞–ø–∫–∏</h2><div class="file-grid">`;' >> index.html
          echo '                data.folders.forEach(folder => {' >> index.html
          echo '                    // –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–ê–Ø –°–°–´–õ–ö–ê –ù–ê –ü–ê–ü–ö–£!' >> index.html
          echo '                    html += `<a href="${encodeURIComponent(folder.name)}/" class="file-card">`;' >> index.html
          echo '                    html += `<div class="file-icon">üìÅ</div>`;' >> index.html
          echo '                    html += `<div class="file-info">`;' >> index.html
          echo '                    html += `<div class="file-name">${folder.name}</div>`;' >> index.html
          echo '                    html += `<div class="file-meta">${folder.fileCount} —Ñ–∞–π–ª(–æ–≤) ‚Ä¢ ${formatFileSize(folder.totalSize)}</div>`;' >> index.html
          echo '                    html += `</div></a>`;' >> index.html
          echo '                });' >> index.html
          echo '                html += `</div></div>`;' >> index.html
          echo '            }' >> index.html
          echo '            ' >> index.html
          echo '            // –§–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ (–ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–´–ï –°–°–´–õ–ö–ò!)' >> index.html
          echo '            if (data.files && data.files.length > 0) {' >> index.html
          echo '                html += `<div class="folder-section"><h2 class="folder-name">üìÑ –§–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ</h2><div class="file-grid">`;' >> index.html
          echo '                data.files.forEach(file => {' >> index.html
          echo '                    // –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–ê–Ø –°–°–´–õ–ö–ê –ù–ê –§–ê–ô–õ!' >> index.html
          echo '                    html += `<a href="${encodeURIComponent(file.name)}" class="file-card" target="_blank">`;' >> index.html
          echo '                    html += `<div class="file-icon">${getFileIcon(file.name)}</div>`;' >> index.html
          echo '                    html += `<div class="file-info">`;' >> index.html
          echo '                    html += `<div class="file-name">${file.name}</div>`;' >> index.html
          echo '                    html += `<div class="file-meta">${formatFileSize(file.size)} ‚Ä¢ ${file.ext.toUpperCase()}</div>`;' >> index.html
          echo '                    html += `</div></a>`;' >> index.html
          echo '                });' >> index.html
          echo '                html += `</div></div>`;' >> index.html
          echo '            }' >> index.html
          echo '            ' >> index.html
          echo '            // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç' >> index.html
          echo '            if (!html) {' >> index.html
          echo '                html = `<div class="stat-card"><p>üì≠ –ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞</p></div>`;' >> index.html
          echo '            }' >> index.html
          echo '            ' >> index.html
          echo '            container.innerHTML = html;' >> index.html
          echo '            ' >> index.html
          echo '            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É' >> index.html
          echo '            updateStats(data);' >> index.html
          echo '        }' >> index.html
          
          echo '        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏' >> index.html
          echo '        function updateStats(data) {' >> index.html
          echo '            const totalFiles = (data.files ? data.files.length : 0) + ' >> index.html
          echo '                             (data.folders ? data.folders.reduce((sum, f) => sum + f.fileCount, 0) : 0);' >> index.html
          echo '            const htmlFiles = data.files ? data.files.filter(f => f.ext === "html" || f.ext === "htm").length : 0;' >> index.html
          echo '            ' >> index.html
          echo '            document.getElementById("total-files").textContent = totalFiles;' >> index.html
          echo '            document.getElementById("folders-count").textContent = data.folders ? data.folders.length : 0;' >> index.html
          echo '            document.getElementById("html-files").textContent = htmlFiles;' >> index.html
          echo '            document.getElementById("update-time").textContent = ' >> index.html
          echo '                new Date().toLocaleTimeString("ru-RU", {hour: "2-digit", minute: "2-digit"});' >> index.html
          echo '        }' >> index.html
          
          echo '        // –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤' >> index.html
          echo '        function filterFiles() {' >> index.html
          echo '            const search = document.getElementById("search").value.toLowerCase();' >> index.html
          echo '            const cards = document.querySelectorAll(".file-card");' >> index.html
          echo '            ' >> index.html
          echo '            cards.forEach(card => {' >> index.html
          echo '                const name = card.querySelector(".file-name").textContent.toLowerCase();' >> index.html
          echo '                card.style.display = name.includes(search) ? "flex" : "none";' >> index.html
          echo '            });' >> index.html
          echo '        }' >> index.html
          
          echo '        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏' >> index.html
          echo '        document.addEventListener("DOMContentLoaded", function() {' >> index.html
          echo '            loadRealFiles();' >> index.html
          echo '            ' >> index.html
          echo '            // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç' >> index.html
          echo '            setInterval(() => {' >> index.html
          echo '                document.getElementById("update-time").textContent = ' >> index.html
          echo '                    new Date().toLocaleTimeString("ru-RU", {hour: "2-digit", minute: "2-digit"});' >> index.html
          echo '            }, 300000);' >> index.html
          echo '        });' >> index.html
          echo '    </script>' >> index.html
          echo '</body>' >> index.html
          echo '</html>' >> index.html
          
          echo "‚úÖ –°–æ–∑–¥–∞–Ω index.html —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã"
        
      # –®–ê–ì 3: –ö–æ–ø–∏—Ä—É–µ–º –í–°–ï —Ñ–∞–π–ª—ã
      - name: Prepare all files for upload
        run: |
          echo "üì¶ –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é —Ñ–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏..."
          mkdir -p ./deploy-ready
          cp -r src/site/notes/* ./deploy-ready/ 2>/dev/null || true
        
      # –®–ê–ì 4: –î–µ–ø–ª–æ–π
      - name: Setup GitHub Pages
        uses: actions/configure-pages@v5
        
      - name: Upload ALL files
        uses: actions/upload-pages-artifact@v3
        with:
          path: './deploy-ready/'
        
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
